{"ast":null,"code":"var _jsxFileName = \"/Users/anthonyteo/Documents/GitHub/pui-hw6/src/views/home/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Cart from \"../../components/Cart/Cart\";\nimport Item from \"../../components/Item/Item\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport { ROLLS } from \"./items\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Roll(type, price, glazing, packSize) {\n  this.type = type;\n  this.price = price;\n  this.glazing = glazing;\n  this.packSize = packSize;\n}\n_c = Roll;\n\nfunction compareName(a, b) {\n  if (a.type < b.type) {\n    return -1;\n  }\n\n  if (a.type > b.type) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction comparePrice(a, b) {\n  if (a.price < b.price) {\n    return -1;\n  }\n\n  if (a.price > b.price) {\n    return 1;\n  }\n\n  return 0;\n}\n\nconst Home = () => {\n  _s();\n\n  const [showCart, setShowCart] = useState(false);\n  const [cartItems, setCartItems] = useLocalStorage(\"cart\", []);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [filter, setFilter] = useState(\"price\");\n  const [newItem, setNewItem] = useState();\n  const [filteredRolls, setFilteredRolls] = useState(ROLLS);\n\n  const addToCart = item => {\n    const detailedItem = new Roll(item.type, item.price, item.glazing, item.packSize);\n    setCartItems([...cartItems, detailedItem]);\n    setNewItem(detailedItem);\n    setTimeout(() => {\n      setNewItem(null);\n    }, 3000);\n  };\n\n  const removeFromCart = index => {\n    setCartItems([...cartItems.slice(0, index), ...cartItems.slice(index + 1, cartItems.length)]);\n  };\n\n  useEffect(() => {\n    const items = ROLLS.slice();\n    items.sort(filter === \"price\" ? comparePrice : compareName);\n    setFilteredRolls(items.filter(item => {\n      return item.type.toLowerCase().includes(searchValue.toLowerCase());\n    }));\n  }, [filter, searchValue]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      cartItems: cartItems,\n      newItem: newItem,\n      setShowCart: setShowCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), showCart && /*#__PURE__*/_jsxDEV(Cart, {\n      cartItems: cartItems,\n      removeFromCart: removeFromCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"optionBar\",\n      children: [/*#__PURE__*/_jsxDEV(Searchbar, {\n        searchValue: searchValue,\n        setSearchValue: setSearchValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"sort by: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filter,\n          onChange: e => {\n            setFilter(e.target.value);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"price\",\n            children: \"Base Price\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"menuList\",\n      children: [filteredRolls.map(_ref => {\n        let {\n          type,\n          price,\n          image\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(Item, {\n          type: type,\n          price: price,\n          image: image,\n          addToCart: addToCart\n        }, type, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this);\n      }), filteredRolls.length === 0 && \"No match!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"w94rF53yyXUfVZ+JkwMkeDmfl/U=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c2 = Home;\nexport default Home;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Roll\");\n$RefreshReg$(_c2, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","Cart","Item","Navbar","Searchbar","useLocalStorage","ROLLS","Roll","type","price","glazing","packSize","compareName","a","b","comparePrice","Home","showCart","setShowCart","cartItems","setCartItems","searchValue","setSearchValue","filter","setFilter","newItem","setNewItem","filteredRolls","setFilteredRolls","addToCart","item","detailedItem","setTimeout","removeFromCart","index","slice","length","items","sort","toLowerCase","includes","e","target","value","map","image"],"sources":["/Users/anthonyteo/Documents/GitHub/pui-hw6/src/views/home/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Cart from \"../../components/Cart/Cart\";\nimport Item from \"../../components/Item/Item\";\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport Searchbar from \"../../components/Searchbar/Searchbar\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport { ROLLS } from \"./items\";\n\nexport function Roll(type, price, glazing, packSize) {\n  this.type = type;\n  this.price = price;\n  this.glazing = glazing;\n  this.packSize = packSize;\n}\n\nfunction compareName(a, b) {\n  if (a.type < b.type) {\n    return -1;\n  }\n  if (a.type > b.type) {\n    return 1;\n  }\n  return 0;\n}\n\nfunction comparePrice(a, b) {\n  if (a.price < b.price) {\n    return -1;\n  }\n  if (a.price > b.price) {\n    return 1;\n  }\n  return 0;\n}\n\nconst Home = () => {\n  const [showCart, setShowCart] = useState(false);\n  const [cartItems, setCartItems] = useLocalStorage(\"cart\", []);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [filter, setFilter] = useState(\"price\");\n  const [newItem, setNewItem] = useState();\n  const [filteredRolls, setFilteredRolls] = useState(ROLLS);\n\n  const addToCart = (item) => {\n    const detailedItem = new Roll(\n      item.type,\n      item.price,\n      item.glazing,\n      item.packSize\n    );\n    setCartItems([...cartItems, detailedItem]);\n    setNewItem(detailedItem);\n    setTimeout(() => {\n      setNewItem(null);\n    }, 3000);\n  };\n\n  const removeFromCart = (index) => {\n    setCartItems([...cartItems.slice(0,index), ...cartItems.slice(index + 1, cartItems.length)]);\n  };\n\n  useEffect(() => {\n    const items = ROLLS.slice();\n    items.sort(filter === \"price\" ? comparePrice : compareName);\n    setFilteredRolls(\n      items.filter((item) => {\n        return item.type.toLowerCase().includes(searchValue.toLowerCase());\n      })\n    );\n  }, [filter, searchValue]);\n\n  return (\n    <React.Fragment>\n      <Navbar\n        cartItems={cartItems}\n        newItem={newItem}\n        setShowCart={setShowCart}\n      />\n      {showCart && <Cart cartItems={cartItems} removeFromCart={removeFromCart}/>}\n      <section className=\"optionBar\">\n        <Searchbar searchValue={searchValue} setSearchValue={setSearchValue} />\n        <div>\n          <span>sort by: </span>\n          <select\n            value={filter}\n            onChange={(e) => {\n              setFilter(e.target.value);\n            }}\n          >\n            <option value=\"price\">Base Price</option>\n            <option value=\"name\">Name</option>\n          </select>\n        </div>\n      </section>\n      <section className=\"menuList\">\n        {filteredRolls.map(({ type, price, image }) => (\n          <Item type={type} price={price} image={image} addToCart={addToCart} key={type} />\n        ))}\n        {filteredRolls.length === 0 && \"No match!\"}\n      </section>\n    </React.Fragment>\n  );\n};\n\nexport default Home;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SAASC,KAAT,QAAsB,SAAtB;;AAEA,OAAO,SAASC,IAAT,CAAcC,IAAd,EAAoBC,KAApB,EAA2BC,OAA3B,EAAoCC,QAApC,EAA8C;EACnD,KAAKH,IAAL,GAAYA,IAAZ;EACA,KAAKC,KAAL,GAAaA,KAAb;EACA,KAAKC,OAAL,GAAeA,OAAf;EACA,KAAKC,QAAL,GAAgBA,QAAhB;AACD;KALeJ,I;;AAOhB,SAASK,WAAT,CAAqBC,CAArB,EAAwBC,CAAxB,EAA2B;EACzB,IAAID,CAAC,CAACL,IAAF,GAASM,CAAC,CAACN,IAAf,EAAqB;IACnB,OAAO,CAAC,CAAR;EACD;;EACD,IAAIK,CAAC,CAACL,IAAF,GAASM,CAAC,CAACN,IAAf,EAAqB;IACnB,OAAO,CAAP;EACD;;EACD,OAAO,CAAP;AACD;;AAED,SAASO,YAAT,CAAsBF,CAAtB,EAAyBC,CAAzB,EAA4B;EAC1B,IAAID,CAAC,CAACJ,KAAF,GAAUK,CAAC,CAACL,KAAhB,EAAuB;IACrB,OAAO,CAAC,CAAR;EACD;;EACD,IAAII,CAAC,CAACJ,KAAF,GAAUK,CAAC,CAACL,KAAhB,EAAuB;IACrB,OAAO,CAAP;EACD;;EACD,OAAO,CAAP;AACD;;AAED,MAAMO,IAAI,GAAG,MAAM;EAAA;;EACjB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAC,KAAD,CAAxC;EACA,MAAM,CAACmB,SAAD,EAAYC,YAAZ,IAA4Bf,eAAe,CAAC,MAAD,EAAS,EAAT,CAAjD;EACA,MAAM,CAACgB,WAAD,EAAcC,cAAd,IAAgCtB,QAAQ,CAAC,EAAD,CAA9C;EACA,MAAM,CAACuB,MAAD,EAASC,SAAT,IAAsBxB,QAAQ,CAAC,OAAD,CAApC;EACA,MAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,EAAtC;EACA,MAAM,CAAC2B,aAAD,EAAgBC,gBAAhB,IAAoC5B,QAAQ,CAACM,KAAD,CAAlD;;EAEA,MAAMuB,SAAS,GAAIC,IAAD,IAAU;IAC1B,MAAMC,YAAY,GAAG,IAAIxB,IAAJ,CACnBuB,IAAI,CAACtB,IADc,EAEnBsB,IAAI,CAACrB,KAFc,EAGnBqB,IAAI,CAACpB,OAHc,EAInBoB,IAAI,CAACnB,QAJc,CAArB;IAMAS,YAAY,CAAC,CAAC,GAAGD,SAAJ,EAAeY,YAAf,CAAD,CAAZ;IACAL,UAAU,CAACK,YAAD,CAAV;IACAC,UAAU,CAAC,MAAM;MACfN,UAAU,CAAC,IAAD,CAAV;IACD,CAFS,EAEP,IAFO,CAAV;EAGD,CAZD;;EAcA,MAAMO,cAAc,GAAIC,KAAD,IAAW;IAChCd,YAAY,CAAC,CAAC,GAAGD,SAAS,CAACgB,KAAV,CAAgB,CAAhB,EAAkBD,KAAlB,CAAJ,EAA8B,GAAGf,SAAS,CAACgB,KAAV,CAAgBD,KAAK,GAAG,CAAxB,EAA2Bf,SAAS,CAACiB,MAArC,CAAjC,CAAD,CAAZ;EACD,CAFD;;EAIArC,SAAS,CAAC,MAAM;IACd,MAAMsC,KAAK,GAAG/B,KAAK,CAAC6B,KAAN,EAAd;IACAE,KAAK,CAACC,IAAN,CAAWf,MAAM,KAAK,OAAX,GAAqBR,YAArB,GAAoCH,WAA/C;IACAgB,gBAAgB,CACdS,KAAK,CAACd,MAAN,CAAcO,IAAD,IAAU;MACrB,OAAOA,IAAI,CAACtB,IAAL,CAAU+B,WAAV,GAAwBC,QAAxB,CAAiCnB,WAAW,CAACkB,WAAZ,EAAjC,CAAP;IACD,CAFD,CADc,CAAhB;EAKD,CARQ,EAQN,CAAChB,MAAD,EAASF,WAAT,CARM,CAAT;EAUA,oBACE,QAAC,KAAD,CAAO,QAAP;IAAA,wBACE,QAAC,MAAD;MACE,SAAS,EAAEF,SADb;MAEE,OAAO,EAAEM,OAFX;MAGE,WAAW,EAAEP;IAHf;MAAA;MAAA;MAAA;IAAA,QADF,EAMGD,QAAQ,iBAAI,QAAC,IAAD;MAAM,SAAS,EAAEE,SAAjB;MAA4B,cAAc,EAAEc;IAA5C;MAAA;MAAA;MAAA;IAAA,QANf,eAOE;MAAS,SAAS,EAAC,WAAnB;MAAA,wBACE,QAAC,SAAD;QAAW,WAAW,EAAEZ,WAAxB;QAAqC,cAAc,EAAEC;MAArD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAA,wBACE;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAEE;UACE,KAAK,EAAEC,MADT;UAEE,QAAQ,EAAGkB,CAAD,IAAO;YACfjB,SAAS,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT;UACD,CAJH;UAAA,wBAME;YAAQ,KAAK,EAAC,OAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QANF,eAOE;YAAQ,KAAK,EAAC,MAAd;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QAPF;QAAA;UAAA;UAAA;UAAA;QAAA,QAFF;MAAA;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAPF,eAsBE;MAAS,SAAS,EAAC,UAAnB;MAAA,WACGhB,aAAa,CAACiB,GAAd,CAAkB;QAAA,IAAC;UAAEpC,IAAF;UAAQC,KAAR;UAAeoC;QAAf,CAAD;QAAA,oBACjB,QAAC,IAAD;UAAM,IAAI,EAAErC,IAAZ;UAAkB,KAAK,EAAEC,KAAzB;UAAgC,KAAK,EAAEoC,KAAvC;UAA8C,SAAS,EAAEhB;QAAzD,GAAyErB,IAAzE;UAAA;UAAA;UAAA;QAAA,QADiB;MAAA,CAAlB,CADH,EAIGmB,aAAa,CAACS,MAAd,KAAyB,CAAzB,IAA8B,WAJjC;IAAA;MAAA;MAAA;MAAA;IAAA,QAtBF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AA+BD,CAnED;;GAAMpB,I;UAE8BX,e;;;MAF9BW,I;AAqEN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}